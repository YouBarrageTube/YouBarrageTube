webpackJsonp([1],{M8ou:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},i,!1,function(e){n("M8ou")},null,null).exports,o=n("/ocq"),s=n("mtWM"),u=n.n(s),c={name:"Barrage",props:["isPlaying","currentTime","submitedInput","videoId"],data:function(){return{comments:[],currentIndex:0,currentComments:[]}},watch:{currentTime:function(e,t){for(;this.currentIndex<this.comments.length&&this.comments[this.currentIndex].videoTime<=e;)this.currentComments.push(this.comments[this.currentIndex]),this.currentIndex=this.currentIndex+1},submitedInput:function(e,t){console.log(e),this.currentComments.push({comment:this.submitedInput,videoTime:this.currentTime}),u.a.post("/v1/comment",{videoUrl:this.videoId,comment:this.submitedInput,videoTime:this.currentTime}).then(function(e){console.log(e.data)})}},mounted:function(){var e=this;u.a.post("/v1/comments",{videoUrl:this.videoId}).then(function(t){console.log(e.comments=t.data)})}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.currentComments,function(t){return n("p",{key:t.id,class:{pause:!e.isPlaying}},[e._v(e._s(t.comment))])}))},staticRenderFns:[]};var m=n("VU/8")(c,d,!1,function(e){n("qedB")},"data-v-03d25da3",null).exports,l=n("//Fk"),p=n.n(l),v=function(e,t){var n=this;this.el=e,this.id=t,new p.a(function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}}).then(function(e){n.player=new e.Player(n.el,{height:315,width:650,videoId:n.id,playerVars:{controls:0,disablekb:0,fs:0,showinfo:0,rel:0}})})},h={name:"Player",props:["isPlaying","videoId"],watch:{isPlaying:function(e,t){t?this.player.player.pauseVideo():this.player.player.playVideo()}},mounted:function(){this.player=new v(this.$el,this.videoId);var e=this;setInterval(function(){e.$emit("onTimeUpdate",Math.floor(e.player.player.getCurrentTime()))},1e3)}},f={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var I={name:"BarragePlayer",data:function(){return{videoId:"A0D1h30kXlI",isPlaying:!1,currentTime:0,currentInput:"",submitedInput:""}},components:{barrage:m,player:n("VU/8")(h,f,!1,function(e){n("hAGI")},"data-v-48df535e",null).exports},methods:{play:function(e){e.preventDefault(),this.isPlaying=!this.isPlaying},addComment:function(e){e.preventDefault(),this.submitedInput=this.currentInput,this.currentInput=""}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{on:{click:e.play}},[n("player",{attrs:{isPlaying:e.isPlaying,videoId:e.videoId},on:{onTimeUpdate:function(t){e.currentTime=t}}}),e._v(" "),n("barrage",{attrs:{isPlaying:e.isPlaying,videoId:e.videoId,submitedInput:e.submitedInput,currentTime:e.currentTime}})],1),e._v(" "),n("p",[e._v(e._s(e.currentTime)+"s")]),n("p"),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentInput,expression:"currentInput"}],attrs:{placeholder:"add your comment"},domProps:{value:e.currentInput},on:{input:function(t){t.target.composing||(e.currentInput=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.addComment}},[e._v("Submit")])])},staticRenderFns:[]};var g=n("VU/8")(I,y,!1,function(e){n("UGba")},"data-v-494e942a",null).exports;r.a.use(o.a);var _=new o.a({routes:[{path:"/",name:"BarragePlayer",component:g}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:_,components:{App:a},template:"<App/>"})},UGba:function(e,t){},hAGI:function(e,t){},qedB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.809fe385b1c83cdad60f.js.map